(this["webpackJsonpcoffee-counter"]=this["webpackJsonpcoffee-counter"]||[]).push([[0],{55:function(e,t,n){},70:function(e,t,n){e.exports=n(86)},86:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(10),o=n.n(r),i=n(63),l=n(12),u=n(107),s=Object(u.a)((function(e){return{container:{backgroundColor:e.palette.text.disabled,height:"100%",display:"flex",flexDirection:"row"},prices:{width:"80%",padding:"10px",display:"flex",flexDirection:"column",flexWrap:"wrap"},revenu:{width:"20%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"10px"},input:{width:"100%",height:"50px",borderRadius:"15px",borderWidth:"0px",fontSize:"50px",textAlign:"center",outline:"none",padding:"10px 0px 10px 0px",marginRight:"15px"},circular:{position:"absolute",top:"200px"}}})),m=n(109),p=n(110),f=Object(u.a)((function(e){return{price:{display:"flex"},chip:{margin:e.spacing(.5),width:"fit-content"},time:{fontSize:"large",position:"absolute",color:"white",bottom:"25px",right:"25px"}}})),d=n(37),h=n.n(d),b=n(120),g=function(e){var t=e.number,n=e.id,r=e.value,o=e.date,i=e.removeFromPriceArr,u=Object(a.useState)(!1),s=Object(l.a)(u,2),m=s[0],p=s[1],d=Object(a.useState)(!1),g=Object(l.a)(d,2),x=g[0],E=g[1],y=f();return c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{key:n,label:"".concat(t,") ").concat(r),onDelete:function(){return i(n)},className:y.chip,onMouseOver:function(){p(!0),E(n)},onMouseLeave:function(){return p(!1)}}),m&&x===n&&c.a.createElement("span",{className:y.time},"".concat(t,") ").concat(r,"BYN created at "),h()(o).format("HH:mm:ss")))},x=n(119),E=(n(55),n(50)),y="https://coffe-counter-backend.herokuapp.com",j=function(){var e=Object(a.useState)(),t=Object(l.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(),u=Object(l.a)(o,2),f=u[0],d=u[1],b=Object(a.useState)([]),j=Object(l.a)(b,2),v=j[0],O=j[1],k=Object(a.useState)(!1),N=Object(l.a)(k,2),w=N[0],S=N[1],C=Object(a.useState)(!1),F=Object(l.a)(C,2),D=F[0],T=F[1],A=s(),B=Object(E.b)().enqueueSnackbar,I=function(e,t){B(e,{variant:t})},P=function(e,t){B(e,{variant:t})},z=function(e){T(!0),fetch("".concat(y,"/prices/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(){O(v.filter((function(t){return t.id!==e}))),P("success, correct deleting","success")})).catch((function(){I("error, failed deleting, check internet connection","error")})).then((function(){return T(!1)}))};return Object(a.useEffect)((function(){S(!0),fetch("".concat(y,"/prices/allToday")).then((function(e){return e.json()})).then((function(e){O(e),P("success, correct fetching","success")})).catch((function(e){console.log(e),I("error, failed fetching, check internet connection","error")})).finally((function(){S(!1)}))}),[]),c.a.createElement(c.a.Fragment,null,w?c.a.createElement(m.a,null):c.a.createElement(c.a.Fragment,null),c.a.createElement("div",{className:A.container},c.a.createElement("div",{className:A.prices},v.map((function(e,t){return c.a.createElement(g,{key:e.id,number:t+1,id:e.id,value:e.value,date:e.date,removeFromPriceArr:z,isPriceFetching:D})}))),c.a.createElement("div",{className:A.revenu},c.a.createElement("input",{autoFocus:!0,className:A.input,type:"number",value:n,onChange:function(e){return function(e){var t=e.target.value;1===t.length&&(t="0"+t);var n=parseFloat(t.replace(/[^\d]/g,"").replace(/(\d\d?)$/,".$1")).toFixed(2);r(n),d({id:Object(x.a)(),value:parseFloat(n),date:h.a.utc()._d})}(e)},onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(O([].concat(Object(i.a)(v),[f])),T(!0),fetch("".concat(y,"/prices"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}).then((function(e){return e.json()})).then((function(e){e&&P("success, correct adding","success")})).catch((function(){O(v.filter((function(e){return e.id!==f.id}))),I("error, failed adding, check internet connection","error")})).finally((function(){T(!1),r(0)})))}}),c.a.createElement("h2",null,function(e){return e.map((function(e){return e.value})).reduce((function(e,t){return e+t}),0).toFixed(2)}(v),"BYN"),D?c.a.createElement(p.a,{className:A.circular}):c.a.createElement(c.a.Fragment,null))))};function v(){return c.a.createElement(E.a,{maxSnack:3},c.a.createElement(j,null))}var O=n(24),k=n(121),N=n(111),w=n(112),S=n(113),C=n(61),F=n.n(C),D=n(114),T=n(115),A=Object(u.a)((function(e){return{header:{height:"10%"},menuButton:{marginRight:e.spacing(2)},toolbar:{display:"flex",justifyContent:"space-between"},link:{alignSelf:"center",textDecoration:"none",fontSize:"19px",color:"white"},button:{margin:"0px 10px "}}})),B=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],o=A();return c.a.createElement(k.a,{className:o.header,position:"static"},c.a.createElement(N.a,{className:o.toolbar},c.a.createElement("div",{className:"left-menu"},c.a.createElement(w.a,{edge:"start",color:"inherit","aria-label":"menu",className:o.menuButton,onClick:function(){r(!n)}},c.a.createElement(F.a,null)),c.a.createElement(S.a,{variant:"outlined",className:o.button},c.a.createElement(O.b,{exact:!0,to:"/",className:o.link},"Home"),c.a.createElement(D.a,{style:{color:"white"}})),c.a.createElement(S.a,{variant:"outlined",className:o.button},c.a.createElement(O.b,{to:"/counter",className:o.link},"Coffe-counter"),c.a.createElement(T.a,{style:{color:"white"}})))))},I=n(49),P=n.n(I),z=n(62),R=n(116),H=n(117),J=Object(u.a)((function(e){return{root:{display:"flex",flexGrow:1,height:"100%"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center",filter:"grayscale(100%) saturate(30%)",display:"flex",justifyContent:"center"},title:{display:"flex",flexDirection:"column",justifyContent:"center"},typography:{textAlign:"center",textShadow:"3px 4px 2px rgba(147, 147, 147, 1)",color:"white"}}})),W=function(){var e=J(),t=Object(a.useState)(""),n=Object(l.a)(t,2),r=n[0],o=n[1],i=Object(a.useState)(""),u=Object(l.a)(i,2),s=u[0],m=u[1],p=function(){var e=Object(z.a)(P.a.mark((function e(){var t,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://dad-jokes.p.rapidapi.com/random/joke",{method:"GET",accept:"application/json",headers:{"x-rapidapi-key":"c5f59aed56msha0b3905c5c63c34p1881acjsna698220a9cf2","x-rapidapi-host":"dad-jokes.p.rapidapi.com"}});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,o(n.body[0].setup),m(n.body[0].punchline);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){p()}),[]),c.a.createElement(R.a,{container:!0,className:e.root},c.a.createElement(R.a,{item:!0,xs:12,sm:12,md:12,className:e.image},c.a.createElement("div",{className:e.title},c.a.createElement(H.a,{component:"h4",variant:"h6",className:e.typography},r),c.a.createElement(H.a,{component:"h4",variant:"h6",className:e.typography},s))))},Y=n(118),G=Object(u.a)((function(e){return{footer:{padding:0,backgroundColor:e.palette.primary.main,height:"10%",display:"flex",alignItems:"center"},footerContainer:{display:"flex",justifyContent:"space-between",alignItems:"center"},title:{textAlign:"center",margin:"0 auto"}}})),L=function(){var e=G(),t=function(){return c.a.createElement(H.a,{variant:"body2",color:"textSecondary",align:"center",className:e.title},"Copyright \xa9 ",(new Date).getFullYear(),".")};return c.a.createElement("footer",{className:e.footer},c.a.createElement(Y.a,{className:e.footerContainer,maxWidth:"sm"},c.a.createElement(t,null)))},M=n(8),$=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(B,null),c.a.createElement("main",null,c.a.createElement(M.a,{path:"/",exact:!0,component:W}),c.a.createElement(M.a,{path:"/counter",component:v})),c.a.createElement(L,null))};o.a.render(c.a.createElement(O.a,null,c.a.createElement($,null)),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.e7480024.chunk.js.map